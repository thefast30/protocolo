<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Protocolo Al√≠vio J√°</title>
    <script>
      // Capturar UTMs imediatamente quando a p√°gina carrega
      (function() {
        console.log('üîç Iniciando captura de UTMs...');
        const urlParams = new URLSearchParams(window.location.search);
        console.log('üìç URL atual:', window.location.href);
        console.log('üìã Par√¢metros encontrados:', urlParams.toString());
        
        const utmKeys = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content', 'click_id', 'fbclid', 'gclid', 'src', 'sck'];
        
        let capturedCount = 0;
        utmKeys.forEach(key => {
          const value = urlParams.get(key);
          if (value) {
            localStorage.setItem(`utm_${key}`, value);
            sessionStorage.setItem(`utm_${key}`, value);
            console.log(`‚úÖ UTM captured: ${key} = ${value}`);
            capturedCount++;
          }
        });
        
        console.log(`üìä Total UTMs capturadas: ${capturedCount}`);
        
        // Salvar timestamp da captura
        if (capturedCount > 0) {
          localStorage.setItem('utm_captured_at', new Date().toISOString());
          sessionStorage.setItem('utm_captured_at', new Date().toISOString());
        }
      })();
    </script>
    <script 
        src="https://cdn.xtracky.com/scripts/utm-handler.js"
        data-token="81ba3b2d-f793-40f6-9f7c-829878487431"
        data-click-id-param="click_id"
        async>
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
